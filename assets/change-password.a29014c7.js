import{_ as $}from"./UiIcons.vue.9a789213.js";import{_ as F}from"./UiButton.vue.6dd02ce9.js";import{_ as L}from"./UiInput.vue.db9632d4.js";import{n as S,q as x,u as I,G as N,r as n,E as D,c as E,a as m,t as C,s as e,b as t,w as l,v as U,o as A,d as B,_ as q}from"./entry.dcc62fda.js";const G={class:"mt-3 px-14 pb-6"},M={class:"p-0.5 border-b border-zinc-300"},O={class:"font-sans font-medium text-xl dark:text-white font-montserrat"},R={class:"mt-6 ml-3"},j={class:"grid grid-cols-1 gap-y-6 w-[250px]"},H={class:"mt-8"},J=S({__name:"change-password",setup(K){const a=x(()=>I());N();const{$store:p,$passwordValidationFunc:k,$confirmPasswordValidationFunc:z}=U(),_=n("password"),f=n("password"),v=n("password");let P=n("eye"),g=n("eye"),h=n("eye");const y=d=>{d==="old"?(P.value=P.value==="eye"?"eyeSlash":"eye",_.value=_.value==="password"?"text":"password"):d==="new"?(g.value=g.value==="eye"?"eyeSlash":"eye",f.value=f.value==="password"?"text":"password"):d==="confirm"&&(h.value=h.value==="eye"?"eyeSlash":"eye",v.value=v.value==="password"?"text":"password")},i=n({oldPassword:"",newPassword:"",confirmPassword:""}),o=n({oldPassword:"",newPassword:"",confirmPassword:""}),V=x(()=>p.getters.getLoggedUserToken);V.value||D("/");const T=x(()=>p.getters.getLoggedUser(V.value)),b=()=>{const d=o.value.oldPassword===""?"requiredField":o.value.oldPassword===T.value.password?"":"passwordIsNotValid",s=k(o.value.newPassword,o.value.confirmPassword),c=z(o.value.newPassword,o.value.confirmPassword);if(i.value.newPassword=s,i.value.confirmPassword=c,i.value.oldPassword=d,!s&&!c&&!d){const w={variant:"success",descriptions:[{title:a.value.success,descriptions:[a.value.userDataChangeText]}]};p.dispatch("A_SET_ALERT_CONFIG",w)}};return(d,s)=>{const c=$,u=F,w=L;return A(),E("div",G,[m("div",M,[m("h2",O,C(e(a).changePassword),1)]),m("div",R,[m("div",j,[t(w,{modelValue:e(o).oldPassword,"onUpdate:modelValue":s[1]||(s[1]=r=>e(o).oldPassword=r),variant:"underlineDefault",size:"md",class:"relative",type:e(_),"error-text":e(a)[e(i).oldPassword],placeholder:e(a).oldPassword.toLowerCase()},{icon:l(()=>[t(u,{custom:"absolute top-2.5 right-1.5",size:"sm",onClick:s[0]||(s[0]=r=>y("old"))},{default:l(()=>[t(c,{"icon-name":e(P),"icon-classes":"w-5 h-5 dark:fill-white"},null,8,["icon-name"])]),_:1})]),_:1},8,["modelValue","type","error-text","placeholder"]),t(w,{modelValue:e(o).newPassword,"onUpdate:modelValue":s[3]||(s[3]=r=>e(o).newPassword=r),variant:"underlineDefault",size:"md",type:e(f),"error-text":e(a)[e(i).newPassword],placeholder:e(a).newPassword.toLowerCase()},{icon:l(()=>[t(u,{custom:"absolute top-2.5 right-1.5",size:"sm",onClick:s[2]||(s[2]=r=>y("new"))},{default:l(()=>[t(c,{"icon-name":e(g),"icon-classes":"w-5 h-5 dark:fill-white"},null,8,["icon-name"])]),_:1})]),_:1},8,["modelValue","type","error-text","placeholder"]),t(w,{modelValue:e(o).confirmPassword,"onUpdate:modelValue":s[5]||(s[5]=r=>e(o).confirmPassword=r),variant:"underlineDefault",size:"md",type:e(v),"error-text":e(a)[e(i).confirmPassword],placeholder:e(a).confirmPassword.toLowerCase()},{icon:l(()=>[t(u,{custom:"absolute top-2.5 right-1.5",size:"sm",onClick:s[4]||(s[4]=r=>y("confirm"))},{default:l(()=>[t(c,{"icon-name":e(h),"icon-classes":"w-5 h-5 dark:fill-white"},null,8,["icon-name"])]),_:1})]),_:1},8,["modelValue","type","error-text","placeholder"])]),m("div",H,[t(u,{variant:"outlineSuccess",size:"md",onClick:b},{default:l(()=>[B(C(e(a).save),1)]),_:1})])])])}}});const Z=q(J,[["__scopeId","data-v-3600d959"]]);export{Z as default};

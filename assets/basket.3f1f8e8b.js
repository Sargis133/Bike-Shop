import{_ as q}from"./UiIcons.vue.9a789213.js";import{_ as P}from"./UiButton.vue.6dd02ce9.js";import{_ as Z}from"./UiInput.vue.db9632d4.js";import{_ as le,a as ie}from"./UiSelect.201a0f88.js";import{n as U,q as T,u as R,r as p,o as y,c as w,a as e,t as s,s as t,d as x,b as l,w as h,v as H,x as j,y as V,z as B,A as de,g as N,F as M,B as ce,T as re,C as L,D as K,E as G,p as ue,e as _e,G as me,_ as pe}from"./entry.dcc62fda.js";import{_ as xe}from"./ConfirmModal.vue.edc02a00.js";const fe={class:"py-6 flex justify-center items-center"},he={class:"rounded-md px-6"},ve={class:"flex justify-center p-1"},ge={class:"text-xl dark:text-gray-300 max-md:text-lg"},ye={class:"mt-4"},we={class:"grid grid-cols-2 gap-x-6 max-md:text-sm max-md:grid-cols-1"},ke={class:"dark:text-gray-300"},be=e("span",{class:"text-red-700 font-medium text-xl"},"*",-1),$e={class:"max-md:mt-4"},Ce={class:"dark:text-gray-300"},Te=e("span",{class:"text-red-700 font-medium text-xl"},"*",-1),Fe={class:"mt-4"},ze={class:"dark:text-gray-300"},Ae=e("span",{class:"text-red-700 font-medium text-xl"},"*",-1),Ve={class:"mt-4"},Se={class:"dark:text-gray-300"},Ee=e("span",{class:"text-red-700 font-medium text-xl"},"*",-1),Ie={class:"flex justify-start mt-6"},Oe={class:"flex gap-x-4"},je={class:"dark:text-gray-300"},De=e("span",{class:"text-red-700 text-xl font-medium"},"*",-1),Me={class:"flex justify-end mt-6"},Be=U({__name:"Order",setup(k){const{$store:a,$nameValidationFunc:f,$phoneValidationFunc:b}=H(),i=T(()=>R()),v=T(()=>[{name:i.value.cash,value:"cash"},{name:i.value.transfer,value:"transfer"}]),n=p({name:"",surname:"",address:"",phone:"",payment:v.value[0].value}),c=p({name:"",surname:"",address:"",phone:""}),F=_=>{n.value.name=_.replace(/[^a-zA-Z]+/g,"")},$=_=>{n.value.surname=_.replace(/[^a-zA-Z]+/g,"")},O=_=>{n.value.phone=_.replace(/\D+/g,"")},S=_=>{n.value.payment=_},C=()=>{if(c.value.name=f(n.value.name),c.value.surname=f(n.value.surname),c.value.phone=b(n.value.phone),c.value.address=n.value.address?"":"requiredField",!c.value.name&&!c.value.surname&&!c.value.address&&!c.value.phone){const _={variant:"success",descriptions:[{title:i.value.success,descriptions:[i.value.yourOrderIsAccepted]}]};a.dispatch("A_SET_ALERT_CONFIG",_),a.dispatch("A_DELETE_ALL_PRODUCTS_FROM_BASKEt")}};return(_,r)=>{const m=Z,E=le,D=P;return y(),w("div",fe,[e("div",he,[e("div",ve,[e("h2",ge,s(t(i).pleaseFillInAllFields),1)]),e("div",ye,[e("div",we,[e("div",null,[e("p",ke,[x(s(t(i).name)+" ",1),be]),l(m,{modelValue:t(n).name,"onUpdate:modelValue":r[0]||(r[0]=g=>t(n).name=g),variant:"default",size:"md","error-text":t(i)[t(c).name],onInputValue:F},null,8,["modelValue","error-text"])]),e("div",$e,[e("p",Ce,[x(s(t(i).surname)+" ",1),Te]),l(m,{modelValue:t(n).surname,"onUpdate:modelValue":r[1]||(r[1]=g=>t(n).surname=g),variant:"default",size:"md","error-text":t(i)[t(c).surname],onInputValue:$},null,8,["modelValue","error-text"])]),e("div",Fe,[e("p",ze,[x(s(t(i).address)+" ",1),Ae]),l(m,{modelValue:t(n).address,"onUpdate:modelValue":r[2]||(r[2]=g=>t(n).address=g),variant:"default",size:"md","error-text":t(i)[t(c).address]},null,8,["modelValue","error-text"])]),e("div",Ve,[e("p",Se,[x(s(t(i).phone)+" ",1),Ee]),l(m,{modelValue:t(n).phone,"onUpdate:modelValue":r[3]||(r[3]=g=>t(n).phone=g),variant:"default",size:"md","error-text":t(i)[t(c).phone],onInputValue:O},null,8,["modelValue","error-text"])])]),e("div",Ie,[e("div",Oe,[e("p",je,[x(s(t(i).payment)+" ",1),De]),l(E,{onOptionValue:S,"option-group":t(v),size:"sm","data-id":"paymentSelect"},{default:h(()=>[x(s(t(i)[t(n).payment]),1)]),_:1},8,["option-group"])])]),e("div",Me,[l(D,{variant:"purple",size:"md",onClick:C},{default:h(()=>[x(s(t(i).order),1)]),_:1})])])])])}}}),Pe={class:"w-[400px] border-2 border-zinc-500 rounded bg-white"},Ue={class:"flex items-center justify-between px-2 py-1"},Re={class:"text-lg font-semibold text-gray-800"},Ne={class:"h-max bg-white border-t border-gray-400"},Le={class:"px-2 py-3"},Ke={class:"border-t border-gray-400"},Ge={class:"flex justify-end gap-x-2 py-1 px-1"},qe=U({__name:"alertModal",props:{isShow:{type:Boolean},title:{}},emits:["update:is-show","answer"],setup(k,{emit:a}){const f=k,b=T(()=>R());let i=T(()=>f.isShow);const v=()=>{a("answer",!1),a("update:is-show",!1)};return(n,c)=>{const F=q,$=P;return y(),w("div",{class:B(["fixed top-0 left-0 z-50 w-full h-full flex justify-center items-center bg-black bg-opacity-60",{hidden:!t(i)}])},[e("div",Pe,[e("div",Ue,[e("div",Re,[j(n.$slots,"header-content",{},()=>[e("h3",null,s(f.title),1)])]),e("div",null,[l($,{custom:"hover:bg-zinc-300 px-1 py-1",size:"sm",onClick:V(v,["stop"])},{default:h(()=>[l(F,{"icon-name":"close","icon-classes":"w-3 h-3 text-gray-600"})]),_:1},8,["onClick"])])]),e("div",Ne,[e("div",Le,[j(n.$slots,"body")]),e("div",Ke,[j(n.$slots,"footer",{},()=>[e("div",Ge,[j(n.$slots,"footer-content",{},()=>[l($,{variant:"primary",size:"sm",onClick:V(v,["stop"])},{default:h(()=>[x(s(t(b).accept),1)]),_:1},8,["onClick"])])])])])])])],2)}}}),Ze=k=>(ue("data-v-0ffaff42"),k=k(),_e(),k),He={class:"mt-3 pb-6 px-14 max-lg:px-2 max-lg:mt-8"},We={class:"p-0.5 border-b border-zinc-300"},Ye={class:"font-sans font-medium text-xl dark:text-white font-montserrat"},Je={class:"mt-6"},Qe={class:"grid grid-cols-[2fr_1fr] max-sm:grid-cols-1"},Xe={class:"flex flex-col gap-y-4 w-full max-lg:flex-wrap max-lg:flex-row max-lg:gap-x-4 max-md:flex-col max-md:items-center max-sm:flex-wrap max-sm:items-start max-sm:flex-row max-sm:justify-center"},et={key:0,class:"font-medium text-lg dark:text-gray-400"},tt=["onClick"],st={class:"max-w-[150px] max-lg:flex max-lg:self-center"},ot=["src","alt"],at={class:"w-[200px] ml-3"},nt={class:"pt-2 dark:text-white"},lt={class:"text-lg font-medium"},it={class:"flex pt-2"},dt={class:"flex"},ct={class:"w-[30px] h-[30px] bg-gray-300 rounded-xl flex items-center justify-center"},rt={class:"px-2"},ut={class:"w-[40px] font-medium text-lg flex items-center [&>div>div>input]:text-center h-[30px]"},_t={class:"w-[30px] h-[30px] bg-gray-300 rounded-xl flex items-center justify-center"},mt={class:"flex flex-col justify-between"},pt={class:"p-1"},xt={class:"text-lg font-medium tracking-wider dark:text-white"},ft={class:"flex items-end justify-end"},ht={key:0,class:"flex justify-start border-2 w-max rounded-lg border-gray-400"},vt={key:0,class:"flex justify-center max-sm:justify-center"},gt={class:"flex flex-col"},yt={class:"text-lg font-medium dark:text-white"},wt=Ze(()=>e("span",{class:"dark:text-gray-300"},"USA",-1)),kt={class:"dark:text-white"},bt={class:"dark:text-gray-300"},$t={class:"flex items-baseline gap-x-4 mt-4 justify-center"},Ct={class:"text-lg font-medium dark:text-white"},Tt={class:"flex justify-center mt-2 relative"},Ft={class:"tooltip-parent"},zt={class:"px-6"},At={class:"absolute bg-yellow-200 rounded-md shadow-md p-1 tooltip"},Vt={class:"text-sm"},St={class:"mt-3 flex"},Et={class:"mt-0.5"},It={class:"ml-1.5"},Ot={class:"font-sans dark:text-gray-400 text-sm"},jt=U({__name:"basket",setup(k){const a=T(()=>R()),{$store:f}=H();de(()=>window.addEventListener("scroll",function(){window.scrollY>60?_.value=!0:_.value=!1}));let b=p(!1),i=p(!1),v=p(!1),n=p(""),c="",F=p(""),$=p(""),O=p([]),S=p(!1),C=p(!1),_=p(!1);const r=p({}),m=T(()=>f.getters.getBasketProducts);m.value.forEach(o=>r.value[o.id]=o.count+"");const E=T(()=>m.value.map(o=>o.count?o.count*o.price:0).reduce((o,u)=>o+u,0));N(E,()=>{b.value=!0,setTimeout(()=>b.value=!1,500)}),N(m,o=>{o.forEach(u=>r.value[u.id]=""+u.count)});const D=o=>{f.dispatch("A_DELETE_PRODUCT_FROM_BASKET",o)},g=o=>{const{cookies:u}=me();if(!u.get("token"))c="login",O.value=[a.value.logIn,a.value.cancel],$.value=a.value.logIn,F.value=a.value.alertLoginForFavorites,C.value=!0;else{f.dispatch("A_ADD_PRODUCT_IN_FAVORITES",o);const z={variant:"success",descriptions:[{title:a.value.favorites,descriptions:[a.value.productAddedToFavorites]}]};f.dispatch("A_SET_ALERT_CONFIG",z)}},W=o=>{o&&c=="login"&&G("/login"),c=""},Y=o=>{if(r.value[""+o]!="1"){const u={productId:o,count:-1};f.dispatch("A_ADD_PRODUCT_IN_BASKET",u)}},J=o=>{const u={productId:o,count:1};f.dispatch("A_ADD_PRODUCT_IN_BASKET",u)},Q=o=>G(`/catalog/product/${o}`),X=o=>{S.value=o,o||(i.value=!1,setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100))},ee=()=>{S.value?m.value.length==0?n.value=a.value.noProductsToOrder:(i.value=!0,setTimeout(()=>{window.scrollBy({top:document.body.scrollHeight,behavior:"smooth"})},800)):(n.value=a.value.pleaseCheckTheBox,v.value=!0)};return(o,u)=>{const z=q,I=P,te=Z,se=Be,oe=ie,ae=xe,ne=qe;return y(),w(M,null,[e("div",He,[e("div",We,[e("h2",Ye,s(t(a).basket),1)]),e("div",Je,[e("div",Qe,[e("div",Xe,[!t(m)||t(m).length==0?(y(),w("h3",et,s(t(a).productsNotFound),1)):(y(),w(M,{key:1},[(y(!0),w(M,null,ce(t(m),d=>(y(),w("div",{key:d.id,class:"p-2 border-2 border-gray-400 rounded-xl flex justify-between max-lg:flex-col max-lg:w-max"},[e("div",{class:"flex cursor-pointer max-lg:flex-col",onClick:V(A=>Q(d.id),["stop"])},[e("div",st,[e("img",{src:d.img,alt:d.name,class:"w-full"},null,8,ot)]),e("div",at,[e("div",nt,[e("h4",lt,s(d.name),1),e("p",null,[e("span",null,s(t(a).size)+" - ",1),x(s(d.size),1)]),e("p",null,[e("span",null,s(t(a).color)+" - ",1),x(s(t(a)[d.color]),1)])])])],8,tt),e("div",it,[e("div",dt,[e("div",ct,[l(I,{custom:"hover:opacity-50 p-2",size:"sm",disabled:+t(r)[d.id]<2,onClick:V(A=>Y(d.id),["stop"])},{default:h(()=>[l(z,{"icon-name":"minus","icon-classes":"w-4 h-4 fill-zinc-800"})]),_:2},1032,["disabled","onClick"])]),e("div",rt,[e("div",ut,[l(te,{modelValue:t(r)[d.id],"onUpdate:modelValue":A=>t(r)[d.id]=A,variant:"empty",size:"sm",readonly:!0},null,8,["modelValue","onUpdate:modelValue"])])]),e("div",_t,[l(I,{custom:"hover:opacity-50 p-2",size:"sm",onClick:V(A=>J(d.id),["stop"])},{default:h(()=>[l(z,{"icon-name":"plus","icon-classes":"w-4 h-4 fill-zinc-800"})]),_:2},1032,["onClick"])])])]),e("div",mt,[e("div",pt,[e("p",xt,s(d.price)+" $ ",1)]),e("div",ft,[l(I,{custom:"pr-1.5 hover:opacity-50",size:"sm",onClick:V(A=>g(d.id),["stop"])},{default:h(()=>[l(z,{"icon-name":"heart","icon-classes":"w-5 h-5 fill-gray-500"})]),_:2},1032,["onClick"]),l(I,{custom:"pr-1.5 hover:opacity-50",size:"sm",onClick:A=>D(d.id)},{default:h(()=>[l(z,{"icon-name":"trash","icon-classes":"w-5 h-5 fill-gray-500"})]),_:2},1032,["onClick"])])])]))),128)),l(re,{name:"order"},{default:h(()=>[t(i)?(y(),w("div",ht,[l(se)])):L("",!0)]),_:1})],64))]),t(m).length>0?(y(),w("div",vt,[e("div",{class:B(["pt-1 pb-4 px-4 border-2 border-gray-400 rounded-xl w-[300px] h-max bg-white dark:bg-slate-900 max-lg:w-[220px] max-md:w-[235px] max-sm:static max-sm:mt-4",{"fixed top-16 max-lg:w-[220px]":t(_)}])},[e("div",gt,[e("div",null,[e("p",yt,[x(s(t(a).address)+": ",1),wt]),e("p",kt,[x(s(t(a).payMethod)+": ",1),e("span",bt,s(t(a).cash),1)])]),e("div",$t,[e("p",Ct,s(t(a).total)+": ",1),e("span",{class:B(["text-lg font-semibold dark:text-gray-300",{"tot-anime":t(b)}])},s(t(E))+" $",3)]),e("div",Tt,[e("div",Ft,[l(I,{variant:"purple",size:"lg",disabled:!t(E)||!t(S),onClick:ee},{default:h(()=>[e("p",zt,s(t(a).continue),1)]),_:1},8,["disabled"])]),e("div",At,[e("p",Vt,s(t(a).pleaseCheckTheBox),1)])]),e("div",St,[e("div",null,[e("div",Et,[l(oe,{class:"w-[14px]",id:"orderTerms",variant:"primary",onChecked:X})])]),e("div",It,[e("p",Ot,s(t(a).iAgreeWithTheRulesText),1)])])])],2)])):L("",!0)])])]),l(ae,{"is-show":t(C),"onUpdate:isShow":u[0]||(u[0]=d=>K(C)?C.value=d:C=d),onAnswer:W,title:t($),buttons:t(O)},{body:h(()=>[e("p",null,s(t(F)),1)]),_:1},8,["is-show","title","buttons"]),l(ne,{"is-show":t(v),"onUpdate:isShow":u[1]||(u[1]=d=>K(v)?v.value=d:v=d)},{body:h(()=>[x(s(t(n)),1)]),_:1},8,["is-show"])],64)}}});const Nt=pe(jt,[["__scopeId","data-v-0ffaff42"]]);export{Nt as default};

import{_ as k}from"./UiInput.vue.db9632d4.js";import{_ as D}from"./nuxt-link.af5a5555.js";import{_ as L}from"./UiButton.vue.6dd02ce9.js";import{n as T,q as _,u as z,G as A,E,r as g,c as N,a as r,t as v,s as e,b as d,w as f,v as U,o as y,d as x,_ as F}from"./entry.dcc62fda.js";const S={class:"mt-3 px-14 pb-6"},$={class:"p-0.5 border-b border-zinc-300"},B={class:"font-sans font-medium text-xl dark:text-white font-montserrat"},G={class:"mt-6 ml-3"},I={class:"grid grid-cols-2 w-[600px] gap-x-16 gap-y-6 max-sm:grid-cols-1 max-sm:w-max"},R={class:"mt-8"},q={class:"mt-8"},H=T({__name:"settings",setup(M){const a=_(()=>z());A();const{$store:c,$nameValidationFunc:C,$emailValidationFunc:V,$phoneValidationFunc:b}=U(),h=_(()=>c.getters.getLoggedUserToken);h.value||E("/");const m=_(()=>c.getters.getLoggedUser(h.value)),s=g({name:"",email:"",phone:""}),t=g({name:m.value.name??"",email:m.value.email??"",phone:m.value.phone??""}),w=()=>{const p=C(t.value.name),o=V(t.value.email),n=b(t.value.phone);s.value.name=p,s.value.email=o,s.value.phone=n;const l=[],i={variant:"success",descriptions:l};t.value.email!==m.value.email?(i.variant="error",l.push({title:a.value.error,descriptions:[a.value.emailCannotBeChanged]})):!p&&!o&&!n?(c.dispatch("A_CHANGE_USER_DATA",t.value),l.push({title:a.value.success,descriptions:[a.value.userDataChangeText]})):(i.variant="error",l.push({title:a.value.error,descriptions:[a.value.errorInChanges]})),c.dispatch("A_SET_ALERT_CONFIG",i)};return(p,o)=>{const n=k,l=D,i=L;return y(),N("div",S,[r("div",$,[r("h2",B,v(e(a).settings),1)]),r("div",G,[r("div",I,[d(n,{modelValue:e(t).name,"onUpdate:modelValue":o[0]||(o[0]=u=>e(t).name=u),variant:"underlineDefault",size:"md","error-text":e(a)[e(s).name],placeholder:e(a).name.toLowerCase()},null,8,["modelValue","error-text","placeholder"]),d(n,{modelValue:e(t).email,"onUpdate:modelValue":o[1]||(o[1]=u=>e(t).email=u),variant:"underlineDefault",size:"md",readonly:"","error-text":e(a)[e(s).email],placeholder:e(a).email.toLowerCase()},null,8,["modelValue","error-text","placeholder"]),d(n,{modelValue:e(t).phone,"onUpdate:modelValue":o[2]||(o[2]=u=>e(t).phone=u),variant:"underlineDefault",size:"md","error-text":e(a)[e(s).phone],placeholder:e(a).phone.toLowerCase()},null,8,["modelValue","error-text","placeholder"])]),r("div",R,[d(l,{to:"/user/change-password",class:"px-2 border-b border-blue-500 text-blue-500 font-medium hover:opacity-70"},{default:f(()=>[x(v(e(a).changePassword),1)]),_:1})]),r("div",q,[d(i,{variant:"outlineSuccess",size:"md",onClick:w},{default:f(()=>[x(v(e(a).save),1)]),_:1})])])])}}});const K=F(H,[["__scopeId","data-v-4ce2a3ef"]]);export{K as default};

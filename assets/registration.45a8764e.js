import{_ as k}from"./UiInput.vue.7649678c.js";import{_ as T}from"./UiIcons.vue.64accf54.js";import{_ as A}from"./UiButton.vue.9e42f11c.js";import{n as I,q as S,u as U,r as m,c as B,a as p,t as V,s as e,b as n,w as c,E as R,o as j,d as D,v as L}from"./entry.151d2a5d.js";const M={class:"flex px-14 justify-center items-center h-full mt-6 pb-2 max-sm:px-4"},q={class:"border border-gray:50 rounded-xl shadow-2xl w-[500px] px-[5em] py-[2em] max-sm:px-[40px] max-sm:w-full"},G={class:"text-center pb-5"},O={class:"font-medium text-2xl dark:text-white max-sm:text-lg"},W={class:"[&>div]:mb-6"},Z={class:"flex justify-center mt-6"},ee=I({__name:"registration",setup(H){const s=S(()=>U()),{$store:w,$emailValidationFunc:g,$nameValidationFunc:y,$phoneValidationFunc:E,$passwordValidationFunc:P,$confirmPasswordValidationFunc:C}=L();let f=m("password"),v=m("password"),x=m("eye"),_=m("eye");const o=m({name:"",email:"",phone:"",password:"",confirmPassword:""}),l=m({errorName:"",errorEmail:"",errorPhone:"",errorPassword:"",errorConfirm:""}),F=t=>{o.value.name=t.replace(/[^a-zA-Z]+/g,"")},z=t=>{o.value.email=t.replace(/\s+/g,"")},$=t=>{o.value.phone=t.replace(/\D+/g,"")},h=t=>{t==="password"?(x.value=f.value==="password"?"eyeSlash":"eye",f.value=f.value==="password"?"text":"password"):t==="confirm"&&(_.value=v.value==="password"?"eyeSlash":"eye",v.value=v.value==="password"?"text":"password")},b=()=>{const t=y(o.value.name),r=g(o.value.email),i=E(o.value.phone),u=P(o.value.password,o.value.confirmPassword),d=C(o.value.password,o.value.confirmPassword);l.value.errorName=t,l.value.errorEmail=r,l.value.errorPhone=i,l.value.errorPassword=u,l.value.errorConfirm=d,!t&&!r&&!i&&!u&&!d&&w.dispatch("A_CREATE_NEW_USER",o.value).then(a=>{if(a){const N={variant:"error",descriptions:[{title:s.value.error,descriptions:[a]}]};w.dispatch("A_SET_ALERT_CONFIG",N),l.value.errorEmail="emailIsBusy"}else R("/login")})};return(t,r)=>{const i=k,u=T,d=A;return j(),B("div",M,[p("div",q,[p("div",G,[p("h2",O,V(e(s).signUp),1)]),p("div",W,[n(i,{modelValue:e(o).name,"onUpdate:modelValue":r[0]||(r[0]=a=>e(o).name=a),size:"md","max-length":"16",variant:"default",placeholder:e(s).name,"error-text":e(s)[e(l).errorName],onInputValue:F},null,8,["modelValue","placeholder","error-text"]),n(i,{modelValue:e(o).email,"onUpdate:modelValue":r[1]||(r[1]=a=>e(o).email=a),size:"md","max-length":"40",variant:"default",placeholder:e(s).email,"error-text":e(s)[e(l).errorEmail],onInputValue:z},null,8,["modelValue","placeholder","error-text"]),n(i,{modelValue:e(o).phone,"onUpdate:modelValue":r[2]||(r[2]=a=>e(o).phone=a),size:"md","max-length":"17",variant:"default",placeholder:e(s).phone,"error-text":e(s)[e(l).errorPhone],onInputValue:$},null,8,["modelValue","placeholder","error-text"]),n(i,{modelValue:e(o).password,"onUpdate:modelValue":r[4]||(r[4]=a=>e(o).password=a),size:"md","max-length":"32",variant:"default",placeholder:e(s).password,"error-text":e(s)[e(l).errorPassword],type:e(f)},{icon:c(()=>[n(d,{custom:"absolute top-2 right-2",size:"sm",onClick:r[3]||(r[3]=a=>h("password"))},{default:c(()=>[n(u,{"icon-name":e(x),"icon-classes":"w-6 h-6 dark:fill-white"},null,8,["icon-name"])]),_:1})]),_:1},8,["modelValue","placeholder","error-text","type"]),n(i,{modelValue:e(o).confirmPassword,"onUpdate:modelValue":r[6]||(r[6]=a=>e(o).confirmPassword=a),size:"md","max-length":"32",variant:"default",placeholder:e(s).confirmPassword,"error-text":e(s)[e(l).errorConfirm],type:e(v)},{icon:c(()=>[n(d,{custom:"absolute top-2 right-2",size:"sm",onClick:r[5]||(r[5]=a=>h("confirm"))},{default:c(()=>[n(u,{"icon-name":e(_),"icon-classes":"w-6 h-6 dark:fill-white"},null,8,["icon-name"])]),_:1})]),_:1},8,["modelValue","placeholder","error-text","type"])]),p("div",Z,[n(d,{size:"md",variant:"primary-rounded",onClick:b},{default:c(()=>[D(V(e(s).createAccount),1)]),_:1})])])])}}});export{ee as default};
